(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},45:function(e,t,a){e.exports=a(83)},50:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),s=a.n(o),l=(a(50),a(3)),i=a(4),c=a(6),m=a(5),u=a(7),p=a(10),d=a(18),h=(a(14),a(2)),f=a(9),g=a(1),v="ADD_ARTICLE",E="LOGIN_USER",b="UPDATE_USER",y="LOGOUT_USER",j="EDIT_POST",w="DISPLAY_POST",O="CLEAR_DISPLAY_POST",N="CLEAR_EDIT_POST",x="NAVIGATE_TO_EDIT_POST",P="NAVIGATE_TO_DISPLAY_POST";function T(e){return{type:E,payload:e}}function S(e){return{type:y,payload:e}}function C(e){return{type:b,payload:e}}function k(e){return{type:j,payload:e}}function I(e){return{type:x,payload:e}}function D(e){return{type:P,payload:e}}var U=Object(g.b)(function(e){return{state:e}},function(e){return{logout:function(t){return e(S(t))}}})(function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"row fixed-top fixed-profile-row shadow m-0",id:"TitleBar"},r.a.createElement("div",{className:"col-2"}),r.a.createElement("div",{className:"col-8 d-flex justify-content-center align-items-center"},r.a.createElement("i",{class:"fas fa-camera-retro pr-3 mt-0 h-100 d-flex justify-content-center align-items-center title-icon"}),r.a.createElement("h2",{className:"title-text text-black text-center mt-3"},"React-A-Gram")),r.a.createElement("div",{className:"col-2 d-flex justify-content-end align-items-center"},e.state.user?r.a.createElement("i",{class:"fas fa-bars pr-4 profile-header-text hover-pointer","uk-toggle":"target: #offcanvas-push"}):null)))});var H=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={username:"",email:"",password:"",errorMessage:""},e.login=e.login.bind(Object(h.a)(Object(h.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(Object(h.a)(e))),e.handleUsernameChange=e.handleUsernameChange.bind(Object(h.a)(Object(h.a)(e))),e.handleEmailChange=e.handleEmailChange.bind(Object(h.a)(Object(h.a)(e))),e.handlePaswordChange=e.handlePaswordChange.bind(Object(h.a)(Object(h.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"login",value:function(){var e=this,t=this.state,a=t.username,n=t.password;f.post("/user/login",{username:a,password:n}).then(function(t){console.log(t),e.props.loginUser(t.data.user)}).catch(function(e){return console.log(e)})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.username,n=t.email,r=t.password;this.login({username:a,email:n,password:r})}},{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePaswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return this.props.state.user?r.a.createElement(d.a,{to:{pathname:"/profile",state:{from:this.props.location}}}):r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col d-flex flex-column justify-content-center align-items-center",style:{minHeight:"100vh"}},r.a.createElement("div",{style:{marginTop:"10vh"}}),r.a.createElement("h1",{className:"p-4 pb-0 mb-0"},"Login"),r.a.createElement("h3",{className:"p-0 m-0 mb-3 text-secondary"},this.state.errorMessage),r.a.createElement("form",{className:"shadow p-5",onSubmit:this.handleSubmit},r.a.createElement("p",null,"Not a member? ",r.a.createElement(p.b,{to:"/signup"},r.a.createElement("span",{className:"text-secondary"},"Sign Up"))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"Username"),r.a.createElement("input",{value:t,onChange:this.handleUsernameChange,className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter Username"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleInputPassword1"},"Password"),r.a.createElement("input",{value:a,onChange:this.handlePaswordChange,type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login")))))}}]),t}(n.Component),A=Object(g.b)(function(e){return{state:e}},function(e){return{loginUser:function(t){return e(T(t))}}})(H),_=(n.Component,a(44)),L=a(19),R=function(e){return{state:e}};function W(e){return{editPost:function(t){return e(k(t))},navigateToEdit:function(t){return e(I(t))}}}var G=Object(g.b)(R,W)(function(e){var t=e.post,a=Object(L.a)(e,["post"]);return r.a.createElement("a",{className:"dropdown-item",onClick:function(){a.editPost(t),a.navigateToEdit(!0)},href:"#"},"Edit")}),F=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).mapNewsfeedPosts=function(){var t=e.props.state.user;return Object(_.a)(t.newsfeed).reverse().map(function(a,n){return console.log("Post props",e.props),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col d-flex flex-column justify-content-center align-items-center",id:"Post"},r.a.createElement("div",{className:"post-wrapper d-flex flex-column mb-3"},r.a.createElement("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center pt-2 mb-2",id:"Author-Post-Header"},r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement("div",{className:"author-post-img-wrapper d-flex justify-content-center align-items-center"},r.a.createElement("img",{className:"rounded img-post img-fluid m-4 ml-5",style:{minWidth:"3rem"},src:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"})),r.a.createElement("b",{className:"post-author-username pl-3 ml-3"},t.username)),r.a.createElement("div",{className:"btn-group mr-4"},r.a.createElement("button",{type:"button",className:"btn btn-primary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Action"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement(G,{post:a})))),r.a.createElement("div",{className:"post-img-wrapper"},r.a.createElement("img",{className:"img-fluid",src:a.imageURL})),r.a.createElement("div",{className:"w-100 d-flex flex-column justify-content-start pt-2"},r.a.createElement("p",{className:"text-left pb-0 mb-0 author-description-comment",id:"Author-Description",style:{fontSize:"85%"}}," ",r.a.createElement("b",{className:"pr-2"},a.username),a.description)))))})},e.state={editPost:!1},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.state.navigation.navigateToEdit?r.a.createElement(d.a,{to:{pathname:"/edit"}}):r.a.createElement("div",null,this.mapNewsfeedPosts())}}]),t}(n.Component),M=Object(g.b)(R,W)(F),B=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("div",{style:{marginTop:"10vh"}}),r.a.createElement(M,null))}}]),t}(n.Component);var Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).mapProfilePosts=function(){var e=a.props.state.user;if(e.posts.length>0){var t=[[]];return e.posts.map(function(e,a){var n=t[t.length-1];n.length<2?n.push(e):(t.push([]),n.push(e))}),t.reverse().map(function(e){return r.a.createElement("div",{className:"row"},e.reverse().map(function(e){return r.a.createElement("div",{className:"col-lg-4 profile-col-pad",style:{minHeight:"20rem"}},r.a.createElement("div",{className:"ProfileImageWrapper"},r.a.createElement("div",{className:"hover-pointer",style:{background:"url(".concat(e.imageURL,") no-repeat center center"),backgroundSize:"cover",minHeight:"100%"},onClick:function(){a.props.navigateToEdit(!1),console.log("post",e),a.props.displayPost(e),a.props.navigateToDisplay(!0)}}," ")))}))})}},a.state={redirectToPost:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){console.log(this.props)}},{key:"render",value:function(){return this.props.state.navigation.navigateToDisplay?r.a.createElement(d.a,{to:{pathname:"/post"}}):r.a.createElement("div",null,r.a.createElement("div",{className:"row fixed-top fixed-profile-row "},r.a.createElement("div",{className:"col d-flex justify-content-between align-items-center shadow",id:"ProfileTitleBar"},r.a.createElement("h2",{className:"text-black text-center pl-4 profile-header-text"},this.props.state.user.username),r.a.createElement("i",{class:"fas fa-bars pr-4 profile-header-text hover-pointer","uk-toggle":"target: #offcanvas-push"}))),r.a.createElement("div",{style:{marginTop:"10vh"}}),this.mapProfilePosts())}}]),t}(n.Component),z=Object(g.b)(function(e){return{state:e}},function(e){return{loginUser:function(t){return e(T(t))},displayPost:function(t){return e({type:w,payload:t})},navigateToEdit:function(t){return e(I(t))},navigateToDisplay:function(t){return e(D(t))}}})(Y);var X=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={username:"",email:"",password:"",authenticated:!1},e.login=e.login.bind(Object(h.a)(Object(h.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(Object(h.a)(e))),e.handleUsernameChange=e.handleUsernameChange.bind(Object(h.a)(Object(h.a)(e))),e.handleEmailChange=e.handleEmailChange.bind(Object(h.a)(Object(h.a)(e))),e.handlePaswordChange=e.handlePaswordChange.bind(Object(h.a)(Object(h.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"login",value:function(){var e=this,t=this.state,a=t.username,n=t.email,r=t.password;f.post("/user/signup",{username:a,email:n,password:r}).then(function(t){console.log("signup res",t),e.props.loginUser(t.data.user)}).catch(function(e){return console.log(e)})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.login()}},{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePaswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password;return this.props.state.user?r.a.createElement(d.a,{to:{pathname:"/profile",state:{from:this.props.location}}}):r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col d-flex flex-column justify-content-center align-items-center",style:{minHeight:"100vh"}},r.a.createElement("div",{style:{marginTop:"10vh"}}),r.a.createElement("h1",{className:"p-4"},"Signup"),r.a.createElement("form",{className:"shadow p-5",onSubmit:this.handleSubmit},r.a.createElement("p",null,"Already a Member? ",r.a.createElement(p.b,{to:"/login"},r.a.createElement("span",{className:"text-secondary"},"Login"))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"Username"),r.a.createElement("input",{value:t,onChange:this.handleUsernameChange,className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter Username"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"email"),r.a.createElement("input",{value:a,onChange:this.handleEmailChange,type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleInputPassword1"},"Password"),r.a.createElement("input",{value:n,onChange:this.handlePaswordChange,type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login")))))}}]),t}(n.Component),q=Object(g.b)(function(e){return{state:e}},function(e){return{loginUser:function(t){return e(T(t))}}})(X),J="";var V=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).getSearchedPhotos=function(t){t.preventDefault();var a=e.state.imageSearchText;f.get("https://api.unsplash.com/search/photos?page=1&per_page=18&query=".concat(a.replace(/\s+/g,"+"),"&client_id=4c1f5525e6dcace5b7a268ca4f5ac18f69dd4b46f3b01226b4287772783938e4")).then(function(t){console.log(t),e.setState({retrievedImages:t.data.results}),e.handleRetrievedImages()}).catch(function(e){return console.log(e)})},e.handleRetrievedImages=function(){var t=e.state.retrievedImages;if(t.length>0){var a=[[]];t.map(function(e,t){var n=a[a.length-1];n.length<2?n.push(e):(a.push([]),n.push(e))});var n=a.map(function(t){return r.a.createElement("div",{className:"row"},t.map(function(t){return r.a.createElement("div",{className:"col-xl-4 profile-col-pad d-flex justify-content-center"},r.a.createElement("div",{className:"CreatePostImageWrapper"},r.a.createElement("img",{className:"img-fluid hover-pointer",onClick:e.handlePostImageClick,src:t.urls.raw,data:t.urls.raw})))}))});return e.setState({finalImageGroups:n})}return e.setState({imageFound:"No Images Found (Try A Different Keyword)"})},e.handlePostPhotoToFeed=function(t){if(t.preventDefault(),!e.state.postButtonClicked){e.setState({postButtonClicked:!0});var a=e.state,n=a.selectedImageUrl,r=a.postDescriptionText;f.post(J+"/user/createPost",{username:e.props.state.user.username,imageURL:n,postDescriptionText:r}).then(function(t){if(200===t.status){console.log(t);var a=t.data.user;e.props.updateUser(a),console.log("create post user check",e.props),e.setState({postShared:!0})}}).catch(function(e){return console.log(e)})}},e.handlePostImageClick=function(t){var a=t.target.attributes.getNamedItem("data").value;e.setState({selectedImageUrl:a,selectPhotoPanelHide:"-9999px",postPhotoPanelHide:"0px"}),console.log(a)},e.handleImageSearchText=function(t){e.setState({imageSearchText:t.target.value})},e.handlePostDescriptionText=function(t){e.setState({postDescriptionText:t.target.value})},e.state={imageSearchText:"",retrievedImages:[],finalImageGroups:[],selectedImageUrl:"",postDescriptionText:"",selectPhotoPanelHide:"0px",postPhotoPanelHide:"9999px",postShared:!1,postButtonClicked:!1,shouldUpdateUser:!1,imageFound:""},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.imageSearchText,a=e.postDescriptionText,n=e.selectedImageUrl,o=e.finalImageGroups,s=e.selectPhotoPanelHide,l=e.postPhotoPanelHide,i=e.postShared,c=e.imageFound;return i?r.a.createElement(d.a,{to:"/newsfeed"}):r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{style:{minHeight:"15vh"}})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col d-flex flex-column justify-content-center align-items-center",id:"CreatePostWrapper"},r.a.createElement("div",{className:" w-75 create-post-panel",style:{position:"relative"}},r.a.createElement("div",{className:"d-flex flex-column justify-content-start align-items-center p-5",style:{overflowX:"hidden",position:"absolute",width:"100%",height:"100%",left:s},id:"Photo-Search-Wrapper"},r.a.createElement("h1",null,"Select a Photo to Post"),r.a.createElement("form",{className:"p-4 w-100",onSubmit:this.getSearchedPhotos},r.a.createElement("input",{placeholder:"Search for a photo...",className:"form-control",value:t,onChange:this.handleImageSearchText})),o.length>0?o.map(function(e){return e}):c),r.a.createElement("div",{className:"d-flex flex-column justify-content-start align-items-center p-5",style:{overflowX:"hidden",position:"absolute",width:"100%",height:"100%",left:l},id:"Photo-Search-Wrapper"},r.a.createElement("h3",null,"Add back button"),r.a.createElement("h1",null,"Share your photo"),r.a.createElement("form",{className:"p-4 w-100",onSubmit:this.handlePostPhotoToFeed},r.a.createElement("textarea",{placeholder:"Description...",className:"form-control",value:a,onChange:this.handlePostDescriptionText}),r.a.createElement("button",{className:"btn btn-primary p-2 m-1"},"Share")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("img",{className:"img-fluid hover-pointer",src:n}))))))))}}]),t}(n.Component),K=Object(g.b)(function(e){return{state:e}},function(e){return{updateUser:function(t){return e(C(t))}}})(V),$=function(e){return{state:e}};function Q(e){return{editPost:function(t){return e(k(t))},navigateToEdit:function(t){return e(I(t))}}}var Z=Object(g.b)($,Q)(function(e){var t=e.post,a=Object(L.a)(e,["post"]);return r.a.createElement("a",{className:"dropdown-item",onClick:function(){a.editPost(t),a.navigateToEdit(!0),console.log("clicked",a)},href:"#"},"Edit")}),ee=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={editPost:!1},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){console.log("props",this.props)}},{key:"render",value:function(){if(this.props.state.navigation.navigateToEdit)return r.a.createElement(d.a,{to:{pathname:"/edit"}});var e=this.props.state,t=e.postToDisplay,a=e.user;return r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("div",{className:"row",style:{marginTop:"5rem"}},r.a.createElement("div",{className:"col d-flex flex-column justify-content-center align-items-center",id:"Post"},r.a.createElement("div",{className:"post-wrapper d-flex flex-column mb-5"},r.a.createElement("div",{className:"w-100 d-flex flex-row justify-content-between align-items-center pt-2 mb-2",id:"Author-Post-Header"},r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement("div",{className:"author-post-img-wrapper d-flex justify-content-center align-items-center"},r.a.createElement("img",{className:"rounded img-post img-fluid m-4 ml-5",style:{minWidth:"3rem"},src:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"})),r.a.createElement("b",{className:"post-author-username pl-3 ml-3"},a.username)),r.a.createElement("div",{className:"btn-group mr-4"},r.a.createElement("button",{type:"button",className:"btn btn-primary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Action"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement(Z,{post:t})))),r.a.createElement("div",{className:"post-img-wrapper"},r.a.createElement("img",{className:"img-fluid",src:t.imageURL})),r.a.createElement("div",{className:"w-100 d-flex flex-column justify-content-start pt-2"},r.a.createElement("p",{className:"text-left pb-0 mb-0 author-description-comment",id:"Author-Description",style:{fontSize:"85%"}}," ",r.a.createElement("b",{className:"pr-2"},a.username),t.description))))))}}]),t}(n.Component),te=Object(g.b)($,Q)(ee),ae="";var ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).authRender=function(){f.get(ae+"/user").then(function(e){a.props.login(e.data.user),console.log("props private",a.props)}).catch(function(e){return e})},a.render=function(){var e=a.props,t=e.component,n=Object(L.a)(e,["component"]),o=a.props.state.user;return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return o?r.a.createElement(t,e):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},a.state={user:!1,isLoaded:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.authRender()}}]),t}(n.Component),re=Object(g.b)(function(e){return{state:e}},function(e){return{login:function(t){return e(T(t))}}})(ne),oe="";var se=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).getSearchedPhotos=function(t){t.preventDefault();var a=e.state.imageSearchText;f.get("https://api.unsplash.com/search/photos?page=1&per_page=18&query=".concat(a.replace(/\s+/g,"+"),"&client_id=4c1f5525e6dcace5b7a268ca4f5ac18f69dd4b46f3b01226b4287772783938e4")).then(function(t){console.log(t),e.setState({retrievedImages:t.data.results}),e.handleRetrievedImages()}).catch(function(e){return console.log(e)})},e.handleRetrievedImages=function(){var t=e.state.retrievedImages;if(t.length>0){var a=[[]];t.map(function(e,t){var n=a[a.length-1];n.length<2?n.push(e):(a.push([]),n.push(e))});var n=a.map(function(t){return r.a.createElement("div",{className:"row"},t.map(function(t){return r.a.createElement("div",{className:"col-4 profile-col-pad"},r.a.createElement("div",{className:"ProfileImageWrapper"},r.a.createElement("img",{className:"img-fluid hover-pointer",onClick:e.handlePostImageClick,src:t.urls.raw,data:t.urls.raw})))}))});return e.setState({finalImageGroups:n})}},e.handlePostPhotoToFeed=function(t){t.preventDefault();var a=e.state,n=a.postDescriptionText,r=a.selectedImageUrl;f.post(oe+"/user/editPost",{postID:e.props.state.postToEdit._id,postDescriptionText:n,imageURL:r}).then(function(t){if(200===t.status){console.log(t);var a=t.data.user;e.props.updateUser(a),e.props.navigateToEdit(!1),e.props.clearEditPost(),e.setState({postShared:!0})}}).catch(function(e){return console.log(e)})},e.handleDeletePost=function(t){t.preventDefault();var a=e.state,n=a.postDescriptionText,r=a.selectedImageUrl;f.post(oe+"/user/deletePost",{postID:e.props.state.postToEdit._id,postDescriptionText:n,imageURL:r}).then(function(t){if(200===t.status){console.log(t);var a=t.data.user;e.props.updateUser(a),e.props.navigateToEdit(!1),e.props.clearEditPost(),console.log("eggs",e.props.state.postToEdit)}}).catch(function(e){return console.log(e)})},e.handlePostImageClick=function(t){var a=t.target.attributes.getNamedItem("data").value;e.setState({selectedImageUrl:a,selectPhotoPanelHide:"-9999px",postPhotoPanelHide:"0px"}),console.log(a)},e.handleImageSearchText=function(t){e.setState({imageSearchText:t.target.value})},e.handlePostDescriptionText=function(t){e.setState({postDescriptionText:t.target.value})},e.state={imageSearchText:"",retrievedImages:[],finalImageGroups:[],selectedImageUrl:"",postDescriptionText:"",selectPhotoPanelHide:"0px",postPhotoPanelHide:"9999px",postShared:!1,shouldUpdateUser:!1},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({postDescriptionText:this.props.state.postToEdit.description,selectedImageUrl:this.props.state.postToEdit.imageURL}),console.log("edit post props",this.props)}},{key:"render",value:function(){var e=this.state,t=e.postDescriptionText,a=e.selectedImageUrl;e.postShared;return this.props.state.postToEdit?r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{style:{minHeight:"15vh"}})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col d-flex flex-column justify-content-center align-items-center",id:"CreatePostWrapper"},r.a.createElement("div",{className:" w-75 create-post-panel",style:{overflow:"hidden",position:"relative"}},r.a.createElement("div",{className:"d-flex flex-column justify-content-start align-items-center p-5",style:{overflowX:"hidden",overflowY:"scroll",position:"absolute",width:"100%",height:"100%"},id:"Photo-Search-Wrapper"},r.a.createElement("h1",null,"Edit Post"),r.a.createElement("form",{className:"p-4 w-100",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("textarea",{placeholder:"Description...",className:"form-control",value:t,onChange:this.handlePostDescriptionText},"Hello"),r.a.createElement("button",{className:"btn btn-primary p-2 m-1",onClick:this.handlePostPhotoToFeed},"Share"),r.a.createElement("button",{className:"btn btn-warning p-2 m-1",onClick:this.handleDeletePost},"Delete")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("img",{className:"img-fluid hover-pointer",src:a})))))))):r.a.createElement(d.a,{to:{pathname:"/newsfeed",state:{from:this.props.location}}})}}]),t}(n.Component),le=Object(g.b)(function(e){return{state:e}},function(e){return{updateUser:function(t){return e(C(t))},clearEditPost:function(){return e({type:N,payload:t});var t},navigateToEdit:function(t){return e(I(t))}}})(se),ie=a(24);var ce=Object(g.b)(function(e){return{state:e}},function(e){return{logout:function(t){return e(S(t))},navigateToEdit:function(t){return e(I(t))},navigateToDisplay:function(t){return e(D(t))}}})(function(e){var t=function(){e.navigateToEdit(!1),e.navigateToDisplay(!1)};return r.a.createElement("div",{className:"menu",id:"offcanvas-push","uk-offcanvas":"mode: slide; overlay: true; flip: true"},r.a.createElement("div",{class:"uk-offcanvas-bar bg-white p-0"},r.a.createElement("ul",{className:"pl-3 mt-5",id:"menu-items"},r.a.createElement(p.b,{to:"/createpost",activeClassName:"active",onClick:t,"uk-toggle":"target: #offcanvas-push"}," ",r.a.createElement("li",null,"Create Post")," "),r.a.createElement(p.b,{to:"/profile",activeClassName:"active",onClick:t,"uk-toggle":"target: #offcanvas-push"}," ",r.a.createElement("li",null,"Profile")," "),r.a.createElement(p.b,{to:"/newsfeed",activeClassName:"active",onClick:t,"uk-toggle":"target: #offcanvas-push"}," ",r.a.createElement("li",null,"Newsfeed")," "),r.a.createElement("li",Object(ie.a)({onClick:function(){t(),e.logout(!1),f.get("/user/logout").then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},"uk-toggle":"target: #offcanvas-push"},"uk-toggle","target: #offcanvas-push"),"Logout"))))}),me="";var ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).auth=function(){f.get(me+"/user").then(function(e){return console.log("res",e),200===e.status?a.props.login(!1):a.setState({user:e.data.user})}).catch(function(e){return a.props.logout(!1)})},a.render=function(){return r.a.createElement(p.a,null,r.a.createElement(ce,null),r.a.createElement(d.b,{path:"/login",component:A}),r.a.createElement(d.b,{exact:!0,path:"/",component:A}),r.a.createElement(d.b,{path:"/signup",component:q}),r.a.createElement(re,{path:"/createpost",component:K}),r.a.createElement(re,{path:"/post",component:te}),r.a.createElement(re,{path:"/edit",component:le}),r.a.createElement(re,{path:"/newsfeed",component:B}),r.a.createElement(re,{path:"/profile",component:z}))},a.state={user:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.auth(),this.props.navigateToEdit(!1),this.props.navigateToDisplay(!1)}}]),t}(n.Component),pe=Object(g.b)(function(e){return{state:e}},function(e){return{logout:function(t){return e(S(t))},navigateToEdit:function(t){return e(I(t))},navigateToDisplay:function(t){return e(D(t))}}})(ue),de=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid",style:{padding:"0px",overflow:"hidden"}},r.a.createElement(pe,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=a(17),fe=a(32),ge=a(42),ve=a.n(ge),Ee=a(31),be={navigation:{navigateToEdit:!1,navigateToDisplay:!1},postToDisplay:!1,postToEdit:!1,user:!1};var ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;return t.type===v?Object.assign({},e,{articles:e.articles.concat(t.payload)}):t.type===E?Object.assign({},e,{user:e.user=t.payload}):t.type===b?Object.assign({},e,{user:e.user=t.payload}):t.type===y?Object.assign({},e,{user:e.user=t.payload,postToEdit:e.postToEdit=t.payload}):t.type===j?Object.assign({},e,{postToEdit:e.postToEdit=t.payload}):t.type===N?Object.assign({},e,{postToEdit:e.postToEdit=!1}):t.type===w?Object.assign({},e,{postToDisplay:e.postToDisplay=t.payload}):t.type===O?Object.assign({},e,{postToDisplay:e.postToDisplay=!1}):t.type===x?Object.assign({},e,{navigation:Object(Ee.a)({},e.navigation,{navigateToEdit:t.payload})}):t.type===P?Object.assign({},e,{navigation:Object(Ee.a)({},e.navigation,{navigateToDisplay:t.payload})}):e},je={key:"root",storage:ve.a},we=Object(fe.a)(je,ye),Oe=a(43),Ne=function(){var e=Object(he.c)(we);return{store:e,persistor:Object(fe.b)(e)}}(),xe=Ne.store,Pe=Ne.persistor;s.a.render(r.a.createElement(g.a,{store:xe},r.a.createElement(Oe.a,{loading:null,persistor:Pe},r.a.createElement(de,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.b6774bc4.chunk.js.map